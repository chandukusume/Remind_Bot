version: "3.1"

rules:

- rule: Say hello anytime the user greets
  steps:
  - intent: greet
  - action: utter_greet

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Show commands when user asks
  steps:
  - intent: show_commands
  - action: utter_show_commands

- rule: Handle start intent
  steps:
  - intent: start
  - action: utter_start

- rule: Activate the master sheet form
  steps:
  - intent: set_master_sheet
  - action: master_sheet_form
  - active_loop: master_sheet_form

- rule: Handle submission of the master sheet form
  condition:
  - active_loop: master_sheet_form
  steps:
  - action: master_sheet_form
  - active_loop: null
  - action: action_set_master_sheet

- rule: Activate active sheet form
  steps:
  - intent: set_active_sheet
  - action: active_sheet_form
  - active_loop: active_sheet_form

- rule: Handle submission of the active sheet form
  condition:
  - active_loop: active_sheet_form
  steps:
  - action: active_sheet_form
  - active_loop: null
  - action: action_set_active_sheet

- rule: Activate the time form
  steps:
  - intent: set_schedule_time
  - action: time_form
  - active_loop: time_form

- rule: Handle submission of the time form
  condition:
  - active_loop: time_form
  steps:
  - action: time_form
  - active_loop: null
  - action: action_set_schedule_time

- rule: Switch from master_sheet_form to active_sheet_form
  condition:
  - active_loop: master_sheet_form
  steps:
  - intent: set_active_sheet
  - active_loop: null
  - action: active_sheet_form
  - active_loop: active_sheet_form

- rule: Switch from master_sheet_form to time_form
  condition:
  - active_loop: master_sheet_form
  steps:
  - intent: set_schedule_time
  - active_loop: null
  - action: time_form
  - active_loop: time_form

- rule: Switch from active_sheet_form to master_sheet_form
  condition:
  - active_loop: active_sheet_form
  steps:
  - intent: set_master_sheet
  - active_loop: null
  - action: master_sheet_form
  - active_loop: master_sheet_form

- rule: Switch from active_sheet_form to time_form
  condition:
  - active_loop: active_sheet_form
  steps:
  - intent: set_schedule_time
  - active_loop: null
  - action: time_form
  - active_loop: time_form

- rule: Switch from time_form to master_sheet_form
  condition:
  - active_loop: time_form
  steps:
  - intent: set_master_sheet
  - active_loop: null
  - action: master_sheet_form
  - active_loop: master_sheet_form

- rule: Switch from time_form to active_sheet_form
  condition:
  - active_loop: time_form
  steps:
  - intent: set_active_sheet
  - active_loop: null
  - action: active_sheet_form
  - active_loop: active_sheet_form

- rule: Cancel master sheet form
  condition:
  - active_loop: master_sheet_form
  steps:
  - intent: cancel
  - active_loop: null
  - action: action_cancel

- rule: Cancel active sheet form
  condition:
  - active_loop: active_sheet_form
  steps:
  - intent: cancel
  - active_loop: null
  - action: action_cancel

- rule: Cancel time form
  condition:
  - active_loop: time_form
  steps:
  - intent: cancel
  - active_loop: null
  - action: action_cancel

- rule: Handle get_count directly
  steps:
  - intent: get_count
  - action: action_get_count

- rule: Handle send_reminder directly
  steps:
  - intent: send_reminder
  - action: action_send_reminder

- rule: Handle check_active_sheet directly
  steps:
  - intent: check_active_sheet
  - action: action_check_active_sheet

- rule: Handle stop_reminder directly
  steps:
  - intent: stop_reminder
  - action: action_stop_reminder

- rule: Handle force_stop_reminders directly
  steps:
  - intent: force_stop_reminders
  - action: action_force_stop_reminders

- rule: Handle restart_reminders directly
  steps:
  - intent: restart_reminders
  - action: action_restart_reminders

- rule: Handle schedule_reminder directly
  steps:
  - intent: schedule_reminder
  - action: action_schedule_reminder

- rule: Handle show_info directly
  steps:
  - intent: show_info
  - action: action_show_info

- rule: Handle unset_schedule_time directly
  steps:
  - intent: unset_schedule_time
  - action: action_unset_schedule_time

- rule: Handle unset_master_sheet directly
  steps:
  - intent: unset_master_sheet
  - action: action_unset_master_sheet

- rule: Handle unset_active_sheet directly
  steps:
  - intent: unset_active_sheet
  - action: action_unset_active_sheet

- rule: Handle cancel directly
  steps:
  - intent: cancel
  - action: action_cancel

